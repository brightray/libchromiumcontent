#!/usr/bin/env python

import os
import subprocess


SOURCE_ROOT = os.path.abspath(os.path.dirname(os.path.dirname(__file__)))
VENDOR_DIR = os.path.join(SOURCE_ROOT, 'vendor')
NINJA = os.path.join(VENDOR_DIR, 'depot_tools', 'ninja')
OUT_DIR = os.path.join(VENDOR_DIR, 'chromium', 'src', 'out')
TARGETS = ['chromiumcontent', 'test_support_chromiumcontent']
CONFIGURATIONS = ['Debug', 'Release']


def main():
    for config in CONFIGURATIONS:
        config_dir = os.path.join(OUT_DIR, config)
        subprocess.check_call([NINJA, '-C', config_dir] + TARGETS)


if __name__ == '__main__':
    import sys
    sys.exit(main())
